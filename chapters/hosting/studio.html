<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>(In Person) Studio: Running on a Remote Machine &#8212; Microsoft Azure  documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="&lt;no title&gt;" href="../intro-oauth-with-aadb2c/labs-setup.html" />
    <link rel="prev" title="Piping in Bash" href="../bash-intro/piping.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body class="body-bc">

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
   <div class="container">
     <div class="navbar-header">
       <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
       <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
       </button>
       <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
       </a>
       <span class="navbar-text navbar-version pull-left"><b></b></span>
     </div>

       <div class="collapse navbar-collapse nav-collapse">
         <ul class="nav navbar-nav">
           
           
             
           
           
           
           
           
         </ul>

         
           
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
         
       </div>
   </div>
 </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li class="active">(In Person) Studio: Running on a Remote Machine</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content ">

    
  <div class="section" id="in-person-studio-running-on-a-remote-machine">
<h1>(In Person) Studio: Running on a Remote Machine<a class="headerlink" href="#in-person-studio-running-on-a-remote-machine" title="Permalink to this headline">¶</a></h1>
<p>After executing on your local machine it’s time to practice running on a “remote” machine. You and your partner will take turns as either the “<strong>remote server machine</strong>” or the “<strong>development machine</strong>”.</p>
<ul class="simple">
<li><strong>development machine</strong>: responsible for editing the API, pushing the changes, and sharing the repo address with your partner (<strong>remote server machine</strong>)</li>
<li><strong>remote server machine</strong>: responsible for cloning, publishing, and executing the updated API from your partner (<strong>development machine</strong>)</li>
</ul>
<div class="section" id="the-development-machine">
<h2>The Development Machine<a class="headerlink" href="#the-development-machine" title="Permalink to this headline">¶</a></h2>
<p>As the <strong>development machine</strong> you are simulating where the source code is developed (your local machine).</p>
<p>Open the <code class="docutils literal notranslate"><span class="pre">CodingEventsAPI/Startup.cs</span></code> file. then edit the code so your partner can tell it’s <em>your</em> Coding Events API.</p>
<div class="admonition">
<p class="first admonition-title"><i class="fas fa-exclamation-triangle" aria-hidden="true"></i>Warning</p>
<p class="last">If you do not see the code on this line you are likely on the wrong branch. Make sure you are working on the <code class="docutils literal notranslate"><span class="pre">1-sqlite</span></code> branch before continuing.</p>
</div>
<p>You will see a configuration for Swagger on <code class="docutils literal notranslate"><span class="pre">line</span> <span class="pre">25</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">CodingEventsAPI/CodingEventsAPI.csproj</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-csharp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>25
26
27
28
29
30
31
32
33
34
35
36</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">services</span><span class="p">.</span><span class="n">AddSwaggerGen</span><span class="p">(</span>
   <span class="n">options</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="n">options</span><span class="p">.</span><span class="n">SwaggerDoc</span><span class="p">(</span>
         <span class="s">&quot;v1&quot;</span><span class="p">,</span>
         <span class="k">new</span> <span class="n">OpenApiInfo</span> <span class="p">{</span>
            <span class="n">Version</span> <span class="p">=</span> <span class="s">&quot;v1&quot;</span><span class="p">,</span>
<span class="hll">            <span class="n">Title</span> <span class="p">=</span> <span class="s">&quot;Coding Events API&quot;</span><span class="p">,</span>
</span><span class="hll">            <span class="n">Description</span> <span class="p">=</span> <span class="s">&quot;REST API for managing Coding Events&quot;</span>
</span>         <span class="p">}</span>
      <span class="p">);</span>
   <span class="p">}</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
<p>Change the <code class="docutils literal notranslate"><span class="pre">Title</span></code> of the UI to include your name. You can also customize the <code class="docutils literal notranslate"><span class="pre">Description</span></code> if you would like. Then commit and push your changes:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">run from the root (solution) directory</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add .
$ git commit -m <span class="s2">&quot;made it my own!&quot;</span>
$ git push
</pre></div>
</div>
</div>
</div>
<div class="section" id="the-remote-server-machine">
<h2>The Remote Server Machine<a class="headerlink" href="#the-remote-server-machine" title="Permalink to this headline">¶</a></h2>
<p>As the <strong>remote server machine</strong> you are simulating a virtual machine where application will be hosted.</p>
<p>Clone your partner’s repo. This time clone it into a different directory by prefixing the directory name with your partner’s name. Using the example path from before <code class="docutils literal notranslate"><span class="pre">~/coding-projects/azure/coding-events-api</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">set the cloned directory path wherever you’d like to clone the project</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/&lt;partner username&gt;/coding-events-api ~/coding-projects/azure/&lt;partner name&gt;-coding-events-api
</pre></div>
</div>
</div>
<p>Navigate to your partner’s cloned repo directory from the command line. Once in the directory run the publish command to package the API into its executable. After publishing execute the published executable just as you did earlier.</p>
<p>As the final step open the Swagger documentation page <a class="reference external" href="https://localhost:5001" target="_blank">https://localhost:5001<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> in your browser.</p>
<div class="admonition-question admonition">
<p class="first admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p class="last">If your partner navigates to the same page on <em>their</em> laptop (<strong>development machine</strong>) do you think they will be able to see the page? Discuss your answer with each other then test it out.</p>
</div>
<p>Now switch roles with your partner and go through the steps again.</p>
</div>
<div class="section" id="reflect">
<h2>Reflect<a class="headerlink" href="#reflect" title="Permalink to this headline">¶</a></h2>
<p>While this exercise was only a simulation the steps involved will be the same when you host your API in an Azure VM. Development takes place on a local <strong>development machine</strong>. Hosting takes place in the cloud after publishing and executing.</p>
<p>Keep this in mind if you feel lost or overwhelmed when working on your studio tomorrow. Hosting an API in the cloud is no different than publishing and executing on a <strong>remote server machine</strong>. Whether that remote machine is your partner sitting next to your or virtualized in a publicly networked machine is immaterial.</p>
<div class="admonition-fun-fact admonition">
<p class="first admonition-title"><i class="fas fa-rocket" aria-hidden="true"></i>Fun Fact</p>
<p class="last">The modern development process to host an application through developing, publishing, and executing takes place on three different machines! Development takes place locally but a cloud-hosted <strong>CI Pipeline</strong> handles publishing (and other automated tasks). The execution itself takes place on a separate cloud-hosted machine like an Azure VM.</p>
</div>
<div class="section" id="connecting-over-a-network">
<h3>Connecting Over a Network<a class="headerlink" href="#connecting-over-a-network" title="Permalink to this headline">¶</a></h3>
<p>Earlier you discussed what would happen if you tried to access the documentation page running on your partner’s machine. You weren’t able to because <code class="docutils literal notranslate"><span class="pre">localhost</span></code> is just that – a <strong>local</strong> <strong>host</strong> name – mapped to the machine’s <strong>internal IP address</strong> <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code>. Recall that this address is only accessible from within the machine that is executing the application.</p>
<p>In order to access the page you need the <strong>network IP address</strong> of the machine and the <strong>server process port</strong>. Remember that every machine on a network is assigned a unique IP address. And every server process running on a machine has a port it listens on.</p>
<p>On the internet[work] every machine connected to it has its own IP address that uniquely identifies it across the entire network called the <strong>public IP address</strong>. But on the WiFi (WAN) network your laptop (machine) is connected to it has been assigned an <em>internal</em> IP address that uniquely identifies it called its <strong>private IP address</strong>.</p>
<p>In this section we will take our first step towards connecting to a machine hosted on a network. Before diving into the vast seas of the open internet we will practice within the smaller pond of the WiFi network.</p>
</div>
</div>
<div class="section" id="instructor">
<h2>Instructor<a class="headerlink" href="#instructor" title="Permalink to this headline">¶</a></h2>
<p>Your instructor will now play the <strong>remote server machine</strong> by publishing and executing the API. Then they will identify their machine’s <strong>private IP address</strong> on the WAN and distribute it to the class.</p>
</div>
<div class="section" id="student">
<h2>Student<a class="headerlink" href="#student" title="Permalink to this headline">¶</a></h2>
<p>Navigate to your instructor’s machine IP address in your browser. Don’t forget that you <strong>have to include the port</strong> in order to view their hosted documentation.</p>
<div class="admonition-question admonition">
<p class="first admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p class="last">Why did you have to include the port? Why don’t you typically need to include it when accessing sites on the internet?</p>
</div>
</div>
<div class="section" id="id1">
<h2>Reflect<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Earlier you learned how hosting on a <strong>remote server machine</strong> is functionally the same whether it takes place on a partner’s laptop or a VM in the cloud. Connecting to machines that are hosted on a network is equally analogous from a small WAN like the WiFI to the open internet itself.</p>
<p>Remember that everything that happens in the cloud, as mysterious and elusive as it may seem, is just a virtualized representation of what happens in the physical world. It often feels like magic, and it arguably is, but it follows the same logical principles that it was designed to simulate.</p>
<div class="section" id="bonus">
<h3>Bonus<a class="headerlink" href="#bonus" title="Permalink to this headline">¶</a></h3>
<p>If you want to try connecting to your partner’s machine over the WAN you can use one of the following commands to identify each other’s network IP addresses and share them with each other. Don’t forget to start the server first!</p>
<div class="admonition">
<p class="first admonition-title"><i class="fas fa-exclamation-triangle" aria-hidden="true"></i>Warning</p>
<p class="last">As a security best practice do not leave server processes listening on exposed ports running unattended while connected to a public network. We will learn about how to use firewalls and Azure networking rules to protect our VM later in the course.</p>
</div>
<p>Select the command for your OS:</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Linux with Bash or ZSH</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ hostname -I
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">OSX with Bash or ZSH</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># the inet address is your machine&#39;s IP</span>
$ ifconfig en0
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">Windows with PowerShell</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="c"># the IPv4 entry is your machine&#39;s IP</span>
<span class="p">$</span> <span class="n">ipconfig</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="../bash-intro/piping.html"><span aria-hidden="true">&larr;</span> Piping in Bash</a></li>
        
        
        <li class="next"><a href="../intro-oauth-with-aadb2c/labs-setup.html">&lt;no title&gt; <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/chapters/hosting/studio.rst.txt"
     rel="nofollow">Page Source</a>
</div>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>