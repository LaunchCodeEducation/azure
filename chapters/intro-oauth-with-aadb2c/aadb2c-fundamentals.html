<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>7.3. Azure AD B2C Practical Fundamentals &#8212; Microsoft Azure  documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="7.4. Walkthrough: Set Up Azure ADB2C Tenant &amp; Identity Tokens" href="walkthrough_aadb2c-identity.html" />
    <link rel="prev" title="7.2. Walkthrough: Explore OAuth &amp; OIDC" href="walkthrough_oauth-oidc.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body class="body-bc">

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
   <div class="container">
     <div class="navbar-header">
       <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
       <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
       </button>
       <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
       </a>
       <span class="navbar-text navbar-version pull-left"><b></b></span>
     </div>

       <div class="collapse navbar-collapse nav-collapse">
         <ul class="nav navbar-nav">
           
           
             
           
           
           
           
           
         </ul>

         
           
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
         
       </div>
   </div>
 </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html">7. Introduction to Authentication &amp; Authorization with Azure AD B2C</a></li>
    <li class="active">7.3. Azure AD B2C Practical Fundamentals</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content ">

    
  <div class="section" id="azure-ad-b2c-practical-fundamentals">
<h1>7.3. Azure AD B2C Practical Fundamentals<a class="headerlink" href="#azure-ad-b2c-practical-fundamentals" title="Permalink to this headline">¶</a></h1>
<p>As you may have come to realize OAuth and OIDC are relatively heavy concepts. However, being able to securely authenticate and authorize your end users is a necessary part of any web applications that contain data with restricted access.</p>
<p>Manually creating your own service for authenticating and authorizing is something that is possible, but <em>risky</em>. No matter how talented you and your team may be it is difficult to compete with a company that dedicates as many resources to security as Microsoft does. By using Microsoft Azure AD B2C the risk of implementing authentication or authorization incorrectly is mitigated completely.</p>
<div class="section" id="entities-of-our-system">
<h2>7.3.1. Entities of Our System<a class="headerlink" href="#entities-of-our-system" title="Permalink to this headline">¶</a></h2>
<p>Let’s consider the different entities involved in the system we will be building and using:</p>
<ul class="simple">
<li><strong>client</strong>: an application that consumes data from a provider</li>
<li><strong>provider</strong>: a resource server that provides data</li>
<li><strong>user</strong>: an authenticated resource owner that delegates access to the client</li>
</ul>
<p>The client, provider and user interactions are managed by a special kind of entity called an <strong>authority</strong>. The authority in this case is Azure AD B2C which acts as the bridge between a client, a provider and a user.</p>
<p>Azure AD B2C is the authority over all authentication and authorization in the system. AADB2C can manage customer identities for authentication as well as securing interactions between registered applications. In the latter case two applications are registered, one as a client and the other as a provider that is protected by AADB2C.</p>
<p>In the examples throughout this chapter the entities we will be working with are:</p>
<ul class="simple">
<li><strong>client</strong>: Postman</li>
<li><strong>provider</strong>: Coding Events API</li>
<li><strong>user</strong>: an identity managed by AADB2C</li>
<li><strong>authority</strong>: AADB2C issuing access tokens to Postman for making requests to the API on behalf of the user</li>
</ul>
</div>
<div class="section" id="components-of-azure-ad-b2c">
<h2>7.3.2. Components of Azure AD B2C<a class="headerlink" href="#components-of-azure-ad-b2c" title="Permalink to this headline">¶</a></h2>
<p>Let’s cover some of the essential components we will be using to configure our AADB2C service. You will hear about these components many times in the upcoming lessons. You can read a more detailed coverage of AADB2C in <a class="reference external" href="https://docs.microsoft.com/en-us/azure/active-directory-b2c/technical-overview" target="_blank">this Microsoft article<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.</p>
<div class="admonition-note admonition">
<p class="first admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p>A confusing aspect of AADB2C is that it can behave as two different roles depending on the interaction it is managing:</p>
<ul class="last simple">
<li><strong>identity provider</strong>: when acting as a resource server that manages account (identity) data</li>
<li><strong>authorization server</strong>: when managing how <em>applications registered in your organization</em> can interact with user identities <em>and each other</em></li>
</ul>
</div>
<div class="section" id="tenant-directory">
<h3>7.3.2.1. Tenant Directory<a class="headerlink" href="#tenant-directory" title="Permalink to this headline">¶</a></h3>
<p>The tenant directory is the central component of an AADB2C service. The tenant is an <a class="reference external" href="https://docs.microsoft.com/en-us/azure/active-directory/fundamentals/active-directory-whatis" target="_blank">Active Directory (AD)<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> instance that can be used to manage both identity (authentication) and access (authorization). You can think of the Active Directory side of AADB2C as a <em>resource server for identity resources</em>.</p>
<p>The Business to Customer (B2C) aspect of AADB2C relates to how the AD instance supports an organization comprised of both customer and business accounts. In AADB2C customers can create accounts using different <strong>provider services</strong> like Microsoft, GitHub or LinkedIn.</p>
<div class="admonition-note admonition">
<p class="first admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p class="last">Because AADB2C is designed to integrate with customers it also supports a <strong>local account provider</strong> that allows customer to create accounts with their own username or email and password. This is how we will be using AADB2C in the upcoming lessons.</p>
</div>
</div>
<div class="section" id="registered-applications">
<h3>7.3.2.2. Registered Applications<a class="headerlink" href="#registered-applications" title="Permalink to this headline">¶</a></h3>
<p>Within a tenant directory you can <strong>register applications</strong> that you allow to integrate with your organization. Registered applications can include applications within your organization or those from a trusted third party.</p>
<p>The role (identity or authorization) that AADB2C will assume is based on how the application is configured. An application can be configured as:</p>
<ul class="simple">
<li><strong>client</strong>: an application <strong>that requests access to identity resources</strong> from AADB2C</li>
<li><strong>provider</strong> (resource server): an application that is <em>protected by</em> AADB2c which <em>other registered applications</em> request access to</li>
</ul>
<p>An application configured as a client is <em>a consumer</em> of the user’s identity data. For example, in our first walkthrough we will register the Coding Events API to be a client application that uses AADB2C as an <em>identity provider</em> to authenticate users with OIDC.</p>
<p>A provider application is configured to <em>receive requests for its own resources</em> and requires authorized requests containing an access token. AADB2C manages the OAuth process of granting an access token to another registered client application which authorizes it to consume resources from the provider.</p>
<div class="admonition-note admonition">
<p class="first admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p>A registered application can be configured to act as <em>both a client and provider</em>. For example, our Coding Events API will act as both a:</p>
<ul class="last simple">
<li><strong>client</strong> when authenticating user identities managed by AADB2C</li>
<li><strong>provider</strong> when receiving an access token that authorizes <em>another application</em> (Postman) to make requests to it on behalf of a user</li>
</ul>
</div>
</div>
<div class="section" id="scopes">
<h3>7.3.2.3. Scopes<a class="headerlink" href="#scopes" title="Permalink to this headline">¶</a></h3>
<p>In the OAuth walkthrough you consented the Visual OAuth application to use the <code class="docutils literal notranslate"><span class="pre">read:user</span></code> scope and access your private GitHub user data. When configuring a provider application in your AADB2C service you will <em>expose scopes</em> for it. These scopes control how other registered client applications can access the underlying data.</p>
<p>In the upcoming access token walkthrough you will get a chance to work behind the scenes to define your own scope. We will configure a <code class="docutils literal notranslate"><span class="pre">user_impersonation</span></code> scope that the Postman client application will use to make authorized requests on behalf of a user.</p>
</div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="walkthrough_oauth-oidc.html"><span aria-hidden="true">&larr;</span> 7.2. Walkthrough: Explore OAuth &amp; OIDC</a></li>
        
        
        <li class="next"><a href="walkthrough_aadb2c-identity.html">7.4. Walkthrough: Set Up Azure ADB2C Tenant &amp; Identity Tokens <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/chapters/intro-oauth-with-aadb2c/aadb2c-fundamentals.rst.txt"
     rel="nofollow">Page Source</a>
</div>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>