<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>2.4. Bash Scripting Fundamentals &#8212; Microsoft Azure  documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.5. Walkthrough: Substitutions &amp; Scripting in Bash" href="walkthrough_substitution-scripting.html" />
    <link rel="prev" title="2.3. Walkthrough: Working With Directories &amp; Files in Bash" href="walkthrough_dirs-and-files.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body class="body-bc">

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
   <div class="container">
     <div class="navbar-header">
       <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
       <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
       </button>
       <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
       </a>
       <span class="navbar-text navbar-version pull-left"><b></b></span>
     </div>

       <div class="collapse navbar-collapse nav-collapse">
         <ul class="nav navbar-nav">
           
           
             
           
           
           
           
           
         </ul>

         
           
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
         
       </div>
   </div>
 </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html">2. Introduction to Bash</a></li>
    <li class="active">2.4. Bash Scripting Fundamentals</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content ">

    
  <div class="section" id="bash-scripting-fundamentals">
<h1>2.4. Bash Scripting Fundamentals<a class="headerlink" href="#bash-scripting-fundamentals" title="Permalink to this headline">¶</a></h1>
<p>Shell scripting is the process of automating a series of commands. The key to automation is to understand the logical steps needed to perform a task manually. In this course we will use scripting to automate operational tasks like provisioning and managing cloud resources on Azure.</p>
<p>Early in the course we will provide you with scripts that you will be encouraged to read but not expected to write. After getting comfortable with the manual steps you will learn how to write and use your own scripts.</p>
<div class="section" id="commands">
<h2>2.4.1. Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<p>You can use any command in a script that you are able to issue manually in the Shell REPL. Unlike the REPL which will prompt you for the next command, scripts are written in a file with each independent command or statement occupying a single line.</p>
<p>A statement, like other languages, is an independent instruction like defining a variable or constructing a loop. We distinguish these from commands which refer to actual CLI programs like those you would call from the Shell REPL.</p>
<div class="admonition-note admonition">
<p class="first admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p class="last">When providing code samples for scripts we will remove the <code class="docutils literal notranslate"><span class="pre">$</span></code> character used in REPL examples. Each separate line is its own command or statement.</p>
</div>
</div>
<div class="section" id="script-file-extensions">
<h2>2.4.2. Script File Extensions<a class="headerlink" href="#script-file-extensions" title="Permalink to this headline">¶</a></h2>
<p>Because file extensions are arbitrary in Linux, a script file can have any extension (or none at all). However, it is customary to use the <code class="docutils literal notranslate"><span class="pre">.sh</span></code> extension as a note to signify that the script should be interpreted as Bash commands.</p>
</div>
<div class="section" id="comments">
<h2>2.4.3. Comments<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h2>
<p>As you have seen throughout the previous examples, comments can be used to annotate your scripts. In a Bash script you can write comments by preceding them with a <code class="docutils literal notranslate"><span class="pre">#</span></code> symbol. Anything after <code class="docutils literal notranslate"><span class="pre">#</span></code> is ignored by the Bash interpreter.</p>
<p>Comments are a valuable addition to any script, especially when they get complex. Remember that comments should serve to explain the <em>why</em> not to dictate the <em>how</em> which the code already describes.</p>
</div>
<div class="section" id="executing-a-script">
<h2>2.4.4. Executing a script<a class="headerlink" href="#executing-a-script" title="Permalink to this headline">¶</a></h2>
<p>The act of executing a script is practically the same as executing a command entered into the REPL. An interpreter is needed to understand and execute the contents. In the REPL the interpreter is implied by the Shell – Bash in our case. In interactive (REPL) mode the Shell is actually a Bash REPL process that is listening for, interpreting and executing commands.</p>
<p>Recall that files in Linux are just strings of characters. It is <strong>up to the program that interprets a file</strong> to decide what to do with its contents. When executing a script we have to define what program, like Bash or Python, will be used to interpret it. This can be done explicitly or implicitly.</p>
<p>Explicit execution is when we use the interpreter program (<code class="docutils literal notranslate"><span class="pre">bash</span></code>) as a command and provide it with the path to the script file as an argument. For example if we had a Bash script file in our home (<code class="docutils literal notranslate"><span class="pre">~</span></code>) directory we can execute it like this:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Linux/Bash</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ bash ~/my-script.sh
</pre></div>
</div>
</div>
<p>In other words when we want to execute a script explicitly we (the user) define the program we want to interpret it – one of the core tenets covered earlier. As another example if we had a Python script we would naturally use the <code class="docutils literal notranslate"><span class="pre">python</span></code> interpreter to execute it:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Linux/Bash</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python ~/my-python-script.py
</pre></div>
</div>
</div>
<p>If we try to execute a script with the wrong interpreter it will fail. It would be like handing an English-speaking person a book in Japanese and asking them to interpret it!</p>
<div class="admonition-note admonition">
<p class="first admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p>Implicit execution is when the interpreter is defined inside the script using a special line at the top of the script file called a <a class="reference external" href="https://linuxize.com/post/bash-shebang/" target="_blank">shebang<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.</p>
<p class="last">Implicit execution is more advanced but is the standard approach when working with scripts professionally. We will not be covering implicit execution at this time as it involves some other steps that are best covered when you are more comfortable with scripting and Bash in general.</p>
</div>
</div>
<div class="section" id="the-executing-user">
<h2>2.4.5. The Executing User<a class="headerlink" href="#the-executing-user" title="Permalink to this headline">¶</a></h2>
<p>Commands in scripts are executed by the <em>user who executes the script</em>. While this might seem intuitive it does have an important implication.</p>
<p>This means that if you (<code class="docutils literal notranslate"><span class="pre">student</span></code>) run a script then all of those commands will be issued by the <code class="docutils literal notranslate"><span class="pre">student</span></code> user and be <em>subject to the permissions of that user</em>. If you need to run privileged commands you must run it using a super user account.</p>
<p>However, if you try to use <code class="docutils literal notranslate"><span class="pre">sudo</span></code> in the script a prompt would require you to authenticate as soon as it is executed – a manual step that would likely defeat the purpose!</p>
<div class="admonition-fun-fact admonition">
<p class="first admonition-title"><i class="fas fa-rocket" aria-hidden="true"></i>Fun Fact</p>
<p class="last">In the cloud the scripts we execute will run as <code class="docutils literal notranslate"><span class="pre">root</span></code> automatically and will not require the use of <code class="docutils literal notranslate"><span class="pre">sudo</span></code>.</p>
</div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="walkthrough_dirs-and-files.html"><span aria-hidden="true">&larr;</span> 2.3. Walkthrough: Working With Directories &amp; Files in Bash</a></li>
        
        
        <li class="next"><a href="walkthrough_substitution-scripting.html">2.5. Walkthrough: Substitutions &amp; Scripting in Bash <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/chapters/bash-intro/scripting.rst.txt"
     rel="nofollow">Page Source</a>
</div>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>